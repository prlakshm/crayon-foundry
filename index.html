<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Crayon Foundry</title>

	<link rel="stylesheet" href="assets/code/style.css">
</head>
<body style="background-color: #FFFAF0;">

	<div class="doodles">
  <img src="assets/images/1.svg" alt="" class="doodle doodle-top-left">
  <img src="assets/images/2.svg" alt="" class="doodle doodle-top-right">
  <img src="assets/images/8.svg" alt="" class="doodle doodle-small-left">
  <img src="assets/images/6.svg" alt="" class="doodle doodle-bottom-left">
  <img src="assets/images/7.svg" alt="" class="doodle doodle-left">
  <img src="assets/images/3.svg" alt="" class="doodle doodle-right">
  <img src="assets/images/10.svg" alt="" class="doodle doodle-right-corner">
  <img src="assets/images/11.svg" alt="" class="doodle doodle-small-right">
	</div> 
	<div class="main">

	 <div class="header">
      <div class="left">
        <h1>P.L.</h1>
      </div>
	  <div class="center">
          <img
            src="assets/images/orange-crayon.svg"
            alt="Orange Crayon"
          />
		  <img
            src="assets/images/teal-crayon.svg"
            alt="Teal Crayon"
          />
      </div>
        <div class="right">
          <a href="">
            Rats
          </a>
          <a href="">
            Bloom
          </a>
          <a href="">
            Twinkle Twinkle
          </a>
        </div>
    </div>

	<div class="fonts-list">
	<div class="font-item">
		 <div class="font-controls">
      <input type="range" min="0" max="100" value="0" class="weight-slider" />
      <a href="assets/fonts/RatsVF.ttf" download title="Download font">
        <img src="assets/images/download.png" alt="Download icon" class="download-icon">
			  </a>
    </div>
	<div class="font-preview-wrapper"> 
    <div class="font-preview rats" contenteditable="true">
      RATS jfsdz
    </div>
	</div>
	</div>
	  <div class="font-item">
		 <div class="font-controls">
      <input type="range" min="0" max="100" value="0" class="weight-slider" />
      <a href="assets/fonts/BloomVF.ttf" download title="Download font">
        <img src="assets/images/download.png" alt="Download icon" class="download-icon">
			  </a>
    </div>
	<div class="font-preview-wrapper"> 
    <div class="font-preview bloom" contenteditable="true">
      BLOOM
    </div>
	</div>
	</div>
	 <div class="font-item">
		 <div class="font-controls">
      <input type="range" min="0" max="100" value="100" class="weight-slider" />
      <a href="assets/fonts/TwinkleTwinkleVF.ttf" download title="Download font">
        <img src="assets/images/download.png" alt="Download icon" class="download-icon">
			  </a>
    </div>
	<div class="font-preview-wrapper"> 
    <div class="font-preview twinkle" contenteditable="true">
	Twinkle Twinkle
    </div>
	</div>
	 </div>
	</div>

	<div class="footer">
		<div class="left">
			<p>Â© 2024 Coded with ðŸ’– by Pranavi Lakshminarayanan</p>
		</div>
	</div>

	</div>

<script>
  // Select all font items
  const fontItems = document.querySelectorAll('.font-item');

  fontItems.forEach((item) => {
    const slider = item.querySelector('.weight-slider');
    const preview = item.querySelector('.font-preview');

    // Determine axis tag based on the font class
    let axis = "wght"; // default
    if (preview.classList.contains('rats')) axis = "wght";
    else if (preview.classList.contains('bloom')) axis = "BLOM";
    else if (preview.classList.contains('twinkle')) axis = "STAR";

    // Listen for slider input and update variation
    slider.addEventListener('input', (event) => {
      const value = event.target.value;
      preview.style.fontVariationSettings = `"${axis}" ${value}`;
    });
  });

document.querySelectorAll('.font-preview').forEach(preview => {
  const wrapper = preview.parentElement;
  let originalText = preview.textContent;
  let typingStarted = false;

  preview.addEventListener('focus', () => {
    // Dim the original text to 50% on focus
    if (!typingStarted) {
      preview.classList.add('placeholder');
    }
  });

  preview.addEventListener('keydown', () => {
    // On first key press, clear the text
    if (!typingStarted) {
      preview.textContent = '';
      preview.classList.remove('placeholder');
      typingStarted = true;
    }
  });

  preview.addEventListener('blur', () => {
    // If user leaves empty, restore original text
    if (!preview.textContent.trim()) {
      preview.textContent = originalText;
      preview.classList.remove('placeholder');
      preview.style.transform = `translateX(0px)`;
      typingStarted = false;
    }
  });

  preview.addEventListener('input', () => {
    // Keep the scroll following as before
    const containerWidth = wrapper.offsetWidth;
    const scrollAmount = Math.max(0, preview.scrollWidth - containerWidth);
    preview.style.transform = `translateX(-${scrollAmount}px)`;
  });
});

</script>

</body>
</html>